<!DOCTYPE html>
<html>
<head>
<title>Image Compressor</title>
<link rel="stylesheet" href="../assets/style.css">
</head>
<body>

<header><nav><a href="../index.html">Home</a></nav></header>

<div class="container">
<div class="card">
<h1>Image Compressor</h1>

<input type="file" id="file" accept="image/*">
<label>Quality: <span id="q">70</span>%</label>
<input type="range" min="10" max="100" value="70" id="quality">
<br><br>
<button onclick="compress()">Compress</button>

<div id="out"></div>
</div>
</div>

<script>
const q=document.getElementById("quality");
const qv=document.getElementById("q");
q.oninput=()=>qv.textContent=q.value;

function compress(){
 const f=document.getElementById("file").files[0];
 if(!f)return alert("Select image");
 const img=new Image();
 img.onload=function(){
  const c=document.createElement("canvas");
  c.width=img.width;c.height=img.height;
  c.getContext("2d").drawImage(img,0,0);
  const data=c.toDataURL("image/jpeg",q.value/100);
  document.getElementById("out").innerHTML=
   `<img src="${data}" style="max-width:100%"><br>
    <a href="${data}" download="compressed.jpg"><button>Download</button></a>`;
 };
 img.src=URL.createObjectURL(f);
}
</script>

<footer></footer>
</body>
</html>
